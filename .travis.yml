language: rust
rust:
  - stable
  - beta
  - nightly

script:
  - cargo build --features="derive serde" || travis_terminate 1
  - cargo test --features="derive serde" || travis_terminate 1
  - cargo doc --features="derive serde" || travis_terminate 1

env:
  - RUSTFLAGS="--deny warnings"

matrix:
  include:
    - name: "Check style"
      language: generic
      script: ./ci/check-basic-style.sh
